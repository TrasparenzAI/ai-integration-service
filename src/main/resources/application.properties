spring.application.name=ai-integration-service

management.endpoints.web.exposure.include=health,info
management.endpoint.info.access=read_only

# Configurazione Spring AI per Ollama
#spring.ai.ollama.base-url=http://localhost:11434
# URL del servizio Ollama (Server con le GPU AMD, esposto sulla porta 11434)
spring.ai.ollama.base-url=http://150.145.70.201:11434
# Modello di default da usare per chat/completions
# Puoi sovrascriverlo anche con env var SPRING_AI_OLLAMA_CHAT_OPTIONS_MODEL
spring.ai.ollama.chat.options.model=qwen2.5:32b
#spring.ai.ollama.chat.options.model=llama3

# ------------------------------------------------------------
# Configurazione MCP (Model Context Protocol) come client
# ------------------------------------------------------------
# Lo starter "spring-ai-starter-mcp-client" e' incluso nel pom.xml.
# Per istruire l'app a usare uno o piu' MCP Server (HTTP/SSE o STDIO),
# definisci blocchi "spring.ai.mcp.client.<id>.*" come negli esempi.

# MCP DISABILITATO DI DEFAULT (evita errori di avvio se i server MCP non sono attivi)
spring.ai.mcp.client.enabled=false

# Per abilitare MCP rimuovi le esclusioni di autoconfigurazione (vedi sotto)
# e definisci le connessioni. Esempio HTTP/SSE:
spring.ai.mcp.client.streamable-http.connections.local_mcp.url=http://localhost:8081

# ------------------------------------------------------------
# Sicurezza: OAuth2 Resource Server (JWT)
# ------------------------------------------------------------
# Richiesto un Bearer token JWT sulle API /api/**
# 1) Issuer (OIDC) - es. Keycloak, Auth0, Okta
spring.security.oauth2.resourceserver.jwt.issuer-uri=https://dica33.ba.cnr.it/keycloak/realms/trasparenzai
# 2) JWK Set URI diretto
# spring.security.oauth2.resourceserver.jwt.jwk-set-uri=https://keycloak.example.com/realms/myrealm/protocol/openid-connect/certs

# Authserver common config
spring.security.oauth2.client.provider.authserver.issuer-uri=https://dica33.ba.cnr.it/keycloak/realms/trasparenzai

# Security: for getting tokens used when calling MCP tools
spring.security.oauth2.client.registration.authserver.client-id=MCP_CLIENT_ID_DA_IMPOSTARE
spring.security.oauth2.client.registration.authserver.client-secret=MCP_CLIENT_SECRET_DA_IMPOSTARE
spring.security.oauth2.client.registration.authserver.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.authserver.provider=authserver

# Security: for getting tokens used when listing tools, initializing, etc.
spring.security.oauth2.client.registration.authserver-client-credentials.client-id=MCP_CLIENT_ID_DA_IMPOSTARE
spring.security.oauth2.client.registration.authserver-client-credentials.client-secret=MCP_CLIENT_SECRET_DA_IMPOSTARE
spring.security.oauth2.client.registration.authserver-client-credentials.authorization-grant-type=client_credentials
spring.security.oauth2.client.registration.authserver-client-credentials.provider=authserver

#logging.level.org.springframework.ai.mcp=DEBUG
#logging.level.io.modelcontextprotocol=DEBUG